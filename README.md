# pr_07
Все задания выполнены. ERD диаграмма, SQL скрипт и Jupyter Notebook находятся в главной ветке.

Цель работы: 
Научиться импортировать и экспортировать данные в базу данных SQL, работать с внешними данными, преобразовывать их в нужный формат и интегрировать с существующими таблицами в базе данных. Работа включает в себя загрузку данных из внешних источников в таблицы базы данных, а также экспорт данных из базы данных в различные форматы. 

Ход работы (вариант st_06):
Для начала была создана база данных "pr_07" для выполнения работы. Далее через Visual Studio подключился к этой базе данных, используя psycopg2 (для проверки выведена информация о сервере PostgreSQL). Потом, используя Python, создал таблицы с данными hospital, doctor, и сразу же их заполнил.

Примечание: Каждое задание выполнялось в отдельном блоке. При выполнении каждого задания в начале выполнялось подключение к БД, затем в конце блока соединение закрывалось. 

<br>Индивидуальное задание 1: при выполнении блока создается таблица "appointments". В задании не сказано ее заполнять, поэтому остается пустой.
<br>Индивидуальное задание 2: при выполнении блока обновляется зарплата врача с идентификатором №105. Была установлена сумма 50000.
Индивидуальное задание 3: задание было выполнено с использованием создания функций def. команда records = cursor.fetchall() возвращает все записи в python после выполнения команды select_query ='''SELECT * from hospital       WHERE hospital_id = 3'''. C помощью команды row выгружаются данные в список.
Индивидуальное задание 4: задание выполнено аналогично заданию 2. Для id 106 был установлен стаж 4 года.
Индивидуальное задание 5: для построения графика обращаемся к библиотекам psycopg2, pandas, matplotlib.pyplot. Создаем функцию закрытия соединения с БД. При выполнении запроса с помощью команды """
    SELECT Salary, Experience FROM Doctor WHERE Experience IS NOT NULL;""" выгружаются необходимые данные, которые после загружаются в dataframe командой df = pd.read_sql(select_query, connection). Далее по       заданным параметрам выстраивается график зависимости зарплаты от опыта врачей.

 Erd-диаграмма сделана на сайте https://dbdiagram.io/. Также для выполнения заданий использованы приложения pgAdmin 4 и Visual Studio Code.
